/**!
 * @license Jace-Tag - A JavaScript library to easily render data from JSON locally or from a API / URL on your website inside of a <jace> tag & LOTS more.
 * VERSION: 1.0.0
 * LICENSE & MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Jace-Tag/
 */ import Hogan from"https://cdn.skypack.dev/hogan.js@3.0.2";function renderJaceTags(){let JSON_Tag;function handleError(e,t){e.hasAttribute("error-message")?e.innerHTML=e.getAttribute("error-message"):e.innerHTML=`JSON-Tag Error: ${t.message}`,console.error(`Jace Tag: Error - ${t.message}`),setAttribute(e,"error")}function setAttribute(e,t){t?e.setAttribute("jace-error",""):e.setAttribute("jace-rendered","")}async function fetchJSON(e){let t=await fetch(e),n=await t.json();return{json:n}}async function fetchJSON_From_URL(e){try{let t=await fetchJSON(e.getAttribute("fetch-json")),n=Hogan.compile(e.innerHTML).render(t);e.innerHTML=n}catch(r){handleError(e,r)}}document.querySelectorAll("jace").forEach(tag=>{try{let template=Hogan.compile(tag.innerHTML);if(tag.hasAttribute("local-json")){let output=template.render(eval(tag.getAttribute("local-json")));tag.innerHTML=output}else tag.hasAttribute("fetch-json")&&fetchJSON_From_URL(tag);setAttribute(tag)}catch(error){handleError(tag,error)}})}!function(e){let t=+new Date,n=100,r=[];function o(){let e=+new Date;if(e-t>n){for(let o=0;o<r.length;o++)r[o]();t=e}}let i=function(e,t){t&&(n=t),r.push(e)};function a(){let e=document.getElementsByTagName("*"),t=e.length;setTimeout(function r(){let i=document.getElementsByTagName("*"),a=i.length;a!=t&&(e=[]);for(let d=0;d<a;d++)if(i[d]!==e[d]){o(),e=i,t=a;break}setTimeout(r,n)},n)}let d={},c=document.documentElement,s=3;function l(){d.DOMNodeInserted?e.addEventListener("DOMContentLoaded",function(){d.DOMSubtreeModified?c.addEventListener("DOMSubtreeModified",o,!1):(c.addEventListener("DOMNodeInserted",o,!1),c.addEventListener("DOMNodeRemoved",o,!1))},!1):document.onpropertychange?document.onpropertychange=o:a()}function u(e){c.addEventListener(e,function t(){d[e]=!0,c.removeEventListener(e,t,!1),0==--s&&l()},!1)}e.addEventListener?(u("DOMSubtreeModified"),u("DOMNodeInserted"),u("DOMNodeRemoved")):l();let f=document.createElement("div");c.appendChild(f),c.removeChild(f),e.onDomChange=i}(window),onDomChange(function(){setTimeout(()=>{renderJaceTags()},"1")}),document.addEventListener("DOMContentLoaded",()=>renderJaceTags());
